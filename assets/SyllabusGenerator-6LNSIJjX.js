import{j as e}from"./ui-vendor-rcE90lUk.js";import{r as D}from"./react-vendor-oaxG2rvL.js";import{P,C as N,a as y,b as w,c as k,d as B,D as A}from"./PageTitle-W3DB0K-F.js";import{u as M,c as T,a as I,B as S}from"./index-XALcYO0B.js";import{S as z}from"./simple-generate-button-B3BWJelS.js";import{I as t,T as C,S as $}from"./textarea-CRP--vVW.js";import{S as E}from"./sparkles-DAWaNAyR.js";import"./pdf-vendor-h9Wj2YyB.js";const u=D.forwardRef(({className:g,variant:h="default",size:l="md",children:p,disabled:r,onClick:c,loading:a=!1,type:j="button",...i},s)=>{const{getAccentColors:f,theme:v}=M(),b=f(),d=v.mode==="dark",o=(b==null?void 0:b.rgb)||"59, 130, 246",G={sm:"h-9 px-3 py-1.5 text-sm",md:"h-10 px-4 py-2 text-base",lg:"h-11 px-6 py-2.5 text-lg"},m=(()=>{switch(h){case"generate":return{bg:`rgb(${o})`,text:"#ffffff",hoverBg:`rgba(${o}, 0.85)`,border:`rgb(${o})`};case"export":return{bg:d?"#374151":"#f3f4f6",text:`rgb(${o})`,hoverBg:d?"#4b5563":"#e5e7eb",border:d?"#4b5563":"#d1d5db"};case"save":return{bg:"#10b981",text:"#ffffff",hoverBg:"#059669",border:"#10b981"};case"delete":return{bg:"#ef4444",text:"#ffffff",hoverBg:"#dc2626",border:"#ef4444"};default:return{bg:d?"#374151":"#ffffff",text:`rgb(${o})`,hoverBg:d?"#4b5563":"#f9fafb",border:`rgb(${o})`}}})(),n=r||a;return e.jsx("button",{...i,ref:s,type:j,disabled:n,className:T("inline-flex items-center justify-center","rounded-md font-medium","transition-all duration-200","border",G[l],n?"opacity-50 cursor-not-allowed":"cursor-pointer hover:shadow-md active:scale-[0.98]",g),style:{backgroundColor:m.bg,color:m.text,borderColor:m.border},onClick:x=>{console.log("[ActionButton] Button clicked!",{isDisabled:n,hasOnClick:!!c}),!n&&c&&(console.log("[ActionButton] Calling onClick handler"),c(x))},onMouseEnter:x=>{n||(x.currentTarget.style.backgroundColor=m.hoverBg)},onMouseLeave:x=>{n||(x.currentTarget.style.backgroundColor=m.bg)},children:a?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"mr-2",children:e.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),e.jsx("span",{children:"처리 중..."})]}):p})});u.displayName="ActionButton";function J(){const{generateContent:g,isGenerating:h,generatedContent:l,exportContent:p}=I(),[r,c]=D.useState({courseName:"",courseCode:"",credits:3,semester:"",instructor:"",department:"",description:"",objectives:"",prerequisites:"",textbooks:"",evaluationMethod:"",weeklyPlan:""}),a=(s,f)=>{c(v=>({...v,[s]:f}))},j=async()=>{if(console.log("=== [SyllabusGenerator] Generate Button Clicked ==="),console.log("Course Name:",r.courseName),console.log("Is Generating:",h),!r.courseName){alert("강의명을 입력해주세요.");return}try{const{apiKey:s}=I.getState();if(console.log("API Key exists:",!!s),!s||s.trim()===""){alert("API 키가 설정되지 않았습니다. 설정 페이지에서 OpenAI API 키를 입력해주세요.");return}console.log("Calling generateContent..."),await g("syllabus",r),console.log("Generate complete!")}catch(s){console.error("강의계획서 생성 실패:",s),alert("강의계획서 생성 중 오류가 발생했습니다. API 키를 확인하거나 다시 시도해주세요.")}},i=s=>{p(s)};return e.jsxs("div",{className:"space-y-10 animate-fadeIn",children:[e.jsx(P,{icon:S,title:"강의계획서 생성",description:"AI를 활용한 체계적인 강의계획서 작성"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs(N,{children:[e.jsxs(y,{children:[e.jsx(w,{children:"강의 정보 입력"}),e.jsx(k,{children:"강의계획서 생성에 필요한 기본 정보를 입력하세요"})]}),e.jsxs(B,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"강의명"}),e.jsx(t,{value:r.courseName,onChange:s=>a("courseName",s.target.value),placeholder:"예: 객체지향프로그래밍"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"강의코드"}),e.jsx(t,{value:r.courseCode,onChange:s=>a("courseCode",s.target.value),placeholder:"예: CSE201"})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"학점"}),e.jsx(t,{type:"number",value:r.credits,onChange:s=>a("credits",parseInt(s.target.value)),min:"1",max:"6"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"학기"}),e.jsx(t,{value:r.semester,onChange:s=>a("semester",s.target.value),placeholder:"예: 2024-1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"학과"}),e.jsx(t,{value:r.department,onChange:s=>a("department",s.target.value),placeholder:"예: 컴퓨터공학과"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"담당교수"}),e.jsx(t,{value:r.instructor,onChange:s=>a("instructor",s.target.value),placeholder:"교수명을 입력하세요"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"강의 개요"}),e.jsx(C,{value:r.description,onChange:s=>a("description",s.target.value),placeholder:"강의의 주요 내용과 목적을 간략히 설명하세요",rows:3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"학습 목표"}),e.jsx(C,{value:r.objectives,onChange:s=>a("objectives",s.target.value),placeholder:"이 강의를 통해 학생들이 달성해야 할 학습 목표를 작성하세요",rows:3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"선수과목"}),e.jsx(t,{value:r.prerequisites,onChange:s=>a("prerequisites",s.target.value),placeholder:"예: 프로그래밍기초, 자료구조"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"교재 및 참고서"}),e.jsx(C,{value:r.textbooks,onChange:s=>a("textbooks",s.target.value),placeholder:"사용할 교재와 참고서를 입력하세요",rows:2})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"평가 방법"}),e.jsx(t,{value:r.evaluationMethod,onChange:s=>a("evaluationMethod",s.target.value),placeholder:"예: 중간고사 30%, 기말고사 40%, 과제 20%, 출석 10%"})]}),e.jsxs(z,{onClick:j,disabled:!r.courseName,loading:h,className:"w-full",children:[e.jsx(E,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"강의계획서 생성"})]})]})]}),e.jsxs(N,{children:[e.jsxs(y,{children:[e.jsx(w,{children:"생성된 강의계획서"}),e.jsx(k,{children:"AI가 생성한 강의계획서를 확인하고 내보내세요"})]}),e.jsx(B,{children:(l==null?void 0:l.type)==="syllabus"?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 max-h-96 overflow-y-auto",children:e.jsx("pre",{className:"whitespace-pre-wrap text-sm",children:l.content})}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(u,{variant:"export",size:"sm",onClick:()=>i("pdf"),children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"PDF"})]}),e.jsxs(u,{variant:"export",size:"sm",onClick:()=>i("markdown"),children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"Markdown"})]}),e.jsxs(u,{variant:"save",size:"sm",onClick:()=>i("json"),children:[e.jsx($,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"저장"})]})]})]}):e.jsx("div",{className:"flex items-center justify-center h-48 text-muted-foreground",children:e.jsxs("div",{className:"text-center",children:[e.jsx(S,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"강의 정보를 입력하고 생성 버튼을 클릭하세요"})]})})})]})]})]})}export{J as SyllabusGenerator};
